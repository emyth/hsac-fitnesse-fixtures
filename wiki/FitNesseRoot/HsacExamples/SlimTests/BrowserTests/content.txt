!-BrowserTest-! defines a basic language (a DSL of sorts) to interact with a website via a browser. A heuristic is used to find elements using end user terms.
The language supported by !-BrowserTest-! is defined by its public methods, which can be used in combination with Slim's standard script verbs (e.g. check, ensure, reject, show).
This basic functionality will suffice for many tests, but can be extended by creating a custom subclass. 
A specific subclass (!-NgBrowserTest-!) is included to test [[!-AngularJs-!][https://angularjs.org]] sites. This class has functionality to wait for Angular requests to finish and find elements based on ‘models’, ‘bindings’ and ‘repeaters’ (borrowed from [[Protractor][http://angular.github.io/protractor/]]).

The tests in this suite show example usage of this fixture:
>ScriptTest shows the basic functionality of !-BrowserTest-! to test websites.
>ScenarioTest takes this to the next level by using a parameterized script (i.e. scenario).
The >TableTemplateTest simplifies the parameterization of the script.
>CustomFixtureTest shows the usage of a custom subclass of !-BrowserTest-! to make test content more descriptive by encapsulating knowledge of the site's HTML in Java code.
>StoryboardTest shows a test where a screenshot is taken after each action. This is then combined with a scenario in >TemplateStoryboardTest.
>ResizeTest shows some manipulation of the browser window.
>AngularJsTest shows usage of !-NgBrowserTest-! aimed at testing [[!-AngularJs-!][https://angularjs.org]] applications. >AngularJsCalculatorTest takes it one step further, selecting elements by models, binding and repeater.

!2 Language

!3 !-BrowserTest-!

The main commands/keywords (i.e. public methods) offered by !-nl.hsac.fitnesse.fixture.slim.web.BrowserTest-! are listed below.
The heuristic to find places tries a number of translations of end user terms to Selenium 'find' commands (e.g. is a full or partial label given, a link's or button's text, a placeholder). The first find that results in an element on the page is used by !-BrowserTest-!.

-|Comment|
|open <url>                                                        |opens the specified URL                                                                                                                                                                                   |
|click <place>                                                     |performs mouse click at the designated place (e.g. link/button/checkbox/radio button)                                                                                                                     |
|enter <value> as <input>                                          |clears the current value of an input and types the value                                                                                                                                                  |
|select <value> for <input>                                        |selects a value in the drop down box (or radio button)                                                                                                                                                    |
|press <key>                                                       |sends press of a key (e.g. Tab, Enter, Escape, Space, M) to browser                                                                                                                                       |
|clear <input>                                                     |removes the content in the input                                                                                                                                                                          |
|take screenshot <name>                                            |stores the current browser's content as <name><unique>.png (used in combination with 'show' verb)                                                                                                         |
|value of <input>                                                  |retrieves the current value of the input (for use with 'check' verb or variable assignment)                                                                                                               |
|page title                                                        |retrieves the current page's title (for use with 'check' verb)                                                                                                                                            |
|wait for page title <title>                                       |performs a click and waits until a page with the specified title is shown                                                                                                                                 |
|wait for tag <tag name> with text <value>                         |waits until a page containing a tag with the specified text is shown                                                                                                                                      |
|wait for class <class name>                                       |waits until a page containing an element with the supplied CSS class is shown                                                                                                                             |
|wait for class <class name> with text <value>                     |waits until a page containing an element with the supplied CSS class and specified text is shown                                                                                                          |
|wait <seconds> (milli)seconds                                     |waits the specified number of (milli)seconds (e.g. for an animation to complete)                                                                                                                          |
|is visible <place>                                                |whether specified place is visible in browser's window (used in combination with 'ensure' and 'reject')                                                                                                   |
|scroll to <place>                                                 |scrolls the designated place into view                                                                                                                                                                    |
|back                                                              |goes back 1 page in the browser's history (i.e. clicks browser's back button)                                                                                                                             |
|forward                                                           |goes forward 1 page in the browser's history (i.e. clicks browser's forward button)                                                                                                                       |
|refresh                                                           |refreshes the current page (i.e. clicks the brower's refresh button)                                                                                                                                      |
|confirm alert                                                     |confirms the open !-JavaScript-! alert.                                                                                                                                                                   |
|dismiss alert                                                     |dismisses the open !-JavaScript-! alert.                                                                                                                                                                  |
|switch to next tab                                                |Switches the browser's window to the next tab                                                                                                                                                             |
|switch to previous tab                                            |Switches the browser's window to the previous tab                                                                                                                                                         |
|close tab                                                         |Closes the current tab and switches the browser's window back to the previous one, if the browser has multiple tabs                                                                                       |
|tab count                                                         |How many tabs are open in the browser currently?                                                                                                                                                          |
|current tab index                                                 |Which tab is currently displayed in the browser's window?                                                                                                                                                 |
|value of column number <columnIndex> in row number <rowIndex>     |retrieves the value from column number 'columnIndex' in row number 'rowIndex'                                                                                                                             |
|value of <columnName> in row number <rowIndex>                    |retrieves the value from the column with header 'columnName' in row number 'rowIndex'                                                                                                                     |
|value of <columnName> in row where <selectColumn> is <selectValue>|finds the first row where the column with header 'selectColumn' is 'selectValue' and retrieves the value from the column with header 'columnName'                                                         |
|row exists where <selectColumn> is <selectValue>                  |determines whether there is a row where the column with header 'selectColumn' is 'selectValue'                                                                                                            |
|click <place> in row number <rowIndex>                            |clicks the button or link whose text matches 'place' in row number 'rowIndex'                                                                                                                             |
|click <place> in row where <selectColumn> is <selectValue>        |finds the first row where the column with header 'selectColumn' is 'selectValue' and clicks the button or link whose text matches 'place'                                                                 |
|enter <valu                                                       |e> as <columnName> in row where <selectColumn> is <selectValue>|finds the first row where the column with header 'selectColumn' is 'selectValue' and enters 'value' in the column with header 'columnName'|
|download <link>                                                   |Downloads the target of the link (to the wiki's files section).                                                                                                                                           |
|download content from <url>                                       |Downloads the file at the specified url (to the wiki's files section).                                                                                                                                    |
|select file <file> for <file input>                               |Selects the supplied file using the indicated input. The file may be in the wiki's files section, or on the local file system.                                                                            |
|download <place> from row number <rowIndex>                       |Downloads the target of the link in column 'place', or with text 'place', in row number 'rowIndex'.                                                                                                       |
|download <place> from row where <selectColumn> is <selectValue>   |Finds the first row where the column with header 'selectColumn' is 'selectValue' and downloads the target of the link in column 'place', or with text 'place'.                                            |
|current browser width                                             |Retrieves the current width of the browser's window (in pixels).                                                                                                                                          |
|set browser width <newWidth>                                      |Sets the width of the browser's window to 'newWidth' (in pixels).                                                                                                                                         |
|current browser height                                            |Retrieves the current height of the browser's window (in pixels).                                                                                                                                         |
|set browser height <newHeight>                                    |Sets the height of the browser's window to 'newHeight' (in pixels).                                                                                                                                       |
|set browser size to <newWidth> to <newHeight>                     |Sets the size of the browser's window to 'newWidth' by 'newHeight' (in pixels).                                                                                                                           |
|text by xPath <element xpath>                                     |retrieves the text of the first element found by evaluating the xPath against the current page's DOM                                                                                                      |
|text by class name <class>                                        |retrieves the text of the first element found with the specified class                                                                                                                                    |

!3 !-NgBrowserTest-!

!-nl.hsac.fitnesse.fixture.slim.web.NgBrowserTest-! ensures Angular is finished processing the page before trying to find elements or interact with them. Furthermore it adds finding elements by based on Angular bindings and models to the heuristic. Finally it adds some commands/keywords to !-BrowserTest's-!, the main ones are listed below.

-|Comment|
|number of <repeater>                                                            |Counts the number of elements created by the 'repeater' (e.g. 'cat in cats').                                                                                                   |
|value of <columnName> in row where <selectColumn> is <selectValue> of <repeater>|Retrieves the value of the column with the 'columnName' header in the first row where the column with header 'selectColumn' is 'selectValue' of a table generated by 'repeater'.|
|value of <columnName> in row number <rowIndex> of <repeater>                    |Retrieves the value of the column with the specified header in the specified row of a table generated by 'repeater'.                                                            |
|value of column number <columnIndex> in row number <rowIndex> of <repeater>     |Retrieves the value of the specified column and row of a table generated by 'repeater'.                                                                                         |
|wait for Angular requests to finish                                             |Explicitly wait for Angular to finish rendering the page (should not be needed normally, as the other commands ensure this is done.                                             |
|set Angular root <element>                                                      |Defines the root element containing the Angular application.                                                                                                                    |
